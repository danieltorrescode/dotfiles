#################################
#          Backend              #
#################################

backend = "glx";          # Use GLX backend for better performance
vsync = true;             # Prevent screen tearing

#################################
#          Shadows              #
#################################

shadow = true;
shadow-radius = 12;
shadow-offset-x = -12;
shadow-offset-y = -12;
shadow-opacity = 0.35;
shadow-ignore-shaped = false;

#################################
#          Fading               #
#################################

fading = true;
fade-in-step = 0.03;
fade-out-step = 0.03;
fade-delta = 10;

#################################
#   Transparency / Opacity      #
#################################

inactive-opacity = 0.9;
active-opacity = 1.0;
frame-opacity = 0.9;
inactive-opacity-override = false;

# Rules for specific apps
opacity-rule = [
  "90:class_g = 'Alacritty'"   # 90% opaque Alacritty (10% transparent)
];

#################################
#          Corners              #
#################################

corner-radius = 8;
round-borders = 1;

#################################
#          Blur                 #
#################################

blur-method = "dual_kawase";
blur-size = 12;
blur-deviation = false;

# Exclude certain windows from blur
blur-background-exclude = [
  "window_type = 'dock'",
  "window_type = 'desktop'",
  "class_g = 'Polybar'"
];

#################################
#      Excluded Elements        #
#################################

shadow-exclude = [
  "class_g = 'Polybar'",
  "class_g = 'dmenu'",
  "class_g = 'Rofi'",
  "class_g = 'Conky'",
  "class_g = 'slop'",
  "_GTK_FRAME_EXTENTS@:c"
];

#################################
#        General Tweaks         #
#################################

detect-client-opacity = true;
unredir-if-possible = false;
focus-exclude = [ "class_g = 'Rofi'" ];
use-damage = true;
log-level = "warn";
